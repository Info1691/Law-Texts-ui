<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>Search (beta) — Trust Law Textbooks</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="icon" href="/logo.png">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <style>
    :root { --bg:#0e2a3f; --panel:#fff; --muted:#6b7280; --chip:#eef2ff; --chiptext:#3730a3; }
    * { box-sizing: border-box; }
    body { margin:0; font: 16px/1.45 system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji","Segoe UI Emoji"; background:#f6f7fb; color:#0b1220; }
    header.bar { background:var(--bg); color:#fff; padding:12px 16px; position:sticky; top:0; z-index:10; display:flex; align-items:center; gap:12px; }
    header .brand { display:flex; align-items:center; gap:10px; }
    header .brand img { height:28px; width:auto; background:#fff; padding:4px; border-radius:4px; }
    header .brand strong { font-size:14px; font-weight:600; opacity:.95; }
    a.home { color:#9ec8ff; text-decoration:none; }
    a.home:hover { text-decoration:underline; }
    .wrap { max-width:1120px; margin:18px auto; padding:0 16px; }
    form.search { display:flex; gap:8px; }
    form.search input[type="text"]{ flex:1; padding:10px 12px; border:1px solid #d1d5db; border-radius:8px; }
    form.search button{ padding:10px 14px; border:0; border-radius:8px; background:#2563eb; color:#fff; font-weight:600; }
    p.muted{ color:var(--muted); margin:.5rem 0 1rem; }
    .results > h2 { margin:24px 0 10px; font-size:18px; }
    .card{ background:var(--panel); border:1px solid #e5e7eb; border-radius:12px; padding:14px; margin:10px 0 16px; box-shadow:0 1px 0 rgba(0,0,0,.02); }
    .meta{ font-size:12px; color:#6b7280; margin-bottom:6px; display:flex; align-items:center; gap:8px; }
    .chip{ background:var(--chip); color:var(--chiptext); border-radius:999px; padding:2px 8px; font-size:11px; font-weight:600; }
    .card h3{ margin:0 0 6px; font-size:17px; }
    .snip{ color:#111827; }
    .snip mark{ background:#ffed4a; padding:0 2px; border-radius:2px; }
    .open { font-size:12px; text-decoration:none; color:#2563eb; }
    .err{ color:#b91c1c; white-space:pre-wrap; }
    .counts{ color:#6b7280; font-size:13px; }
    .topright { margin-left:auto; }
    .pill { background:#093255; color:#fff; font-weight:700; padding:6px 10px; border-radius:10px; text-decoration:none; }
  </style>
</head>
<body>
  <header class="bar">
    <div class="brand">
      <img src="/logo.png" alt="WWBCB logo">
      <strong>Trust Law Textbooks</strong>
    </div>
    <a class="topright pill" href="/index.html">Catalog</a>
  </header>

  <main class="wrap">
    <form class="search" data-form>
      <input type="text" data-q placeholder="Search textbooks + laws + rules… e.g., Beddoe, beneficiaries' consent, litigation costs" />
      <button type="submit">Search</button>
    </form>
    <p class="muted">Searches: <strong>Textbooks</strong> (local catalog) + <strong>Laws</strong> (laws-ui) + <strong>Rules</strong> (rules-ui). Results show quotable snippets; click the title to open the full TXT.</p>
    <p class="counts" data-counts>Matches — Textbooks: 0 · Laws: 0 · Rules: 0</p>

    <section class="results">
      <h2>Textbooks</h2>
      <div data-section="textbooks"></div>

      <h2>Laws</h2>
      <div data-section="laws"></div>

      <h2>Rules</h2>
      <div data-section="rules"></div>
    </section>
  </main>

  <script src="/search.js?v=7"></script>
</body>
</html>
