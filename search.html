<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Trust Law Textbooks â€” Search (beta)</title>
  <link rel="icon" href="/logo.png" />
  <style>
    :root { --ink:#0b1736; --muted:#667188; --card:#ffffff; --bg:#f6f7fb; --accent:#2563eb; }
    *{box-sizing:border-box}
    body{margin:0;background:var(--bg);color:var(--ink);font:16px/1.5 system-ui,-apple-system,Segoe UI,Roboto,Inter,Arial}
    header{display:flex;align-items:center;gap:.75rem;padding:12px 16px;background:#0c1222;color:#fff;position:sticky;top:0;z-index:2}
    header img{height:28px;width:28px;object-fit:contain;background:#fff;border-radius:4px;padding:2px}
    header .brand{font-weight:700}
    header a{color:#9ec1ff;text-decoration:none}
    main{max-width:980px;margin:24px auto;padding:0 16px}
    h1{margin:.25rem 0 1rem}
    .muted{color:var(--muted)}
    .bar{display:flex;gap:.5rem;align-items:center;margin:.75rem 0 1rem}
    .bar input[type=text]{flex:1;padding:.65rem .8rem;border:1px solid #d6d9e3;border-radius:8px;background:#fff}
    .bar button{padding:.6rem .9rem;border:0;border-radius:8px;background:var(--accent);color:#fff;cursor:pointer}
    .opts{display:flex;align-items:center;gap:1rem;color:var(--muted);font-size:.9rem;margin-bottom:1rem}
    section{margin:18px 0}
    .results{display:grid;gap:12px}
    .card{background:var(--card);border:1px solid #e6e8f0;border-radius:10px;padding:14px 14px 10px}
    .title{font-weight:700;margin-bottom:6px}
    .meta{color:var(--muted);font-size:.88rem;margin-bottom:8px}
    .snip{display:block;margin:6px 0;padding:8px;border-left:3px solid #e8ebf5;background:#fafbff;border-radius:6px}
    mark{background:#fff59d}
    .error{color:#c0392b;white-space:pre-wrap}
    .pill{display:inline-block;font-size:.78rem;background:#eef2ff;color:#334155;border:1px solid #c7d2fe;border-radius:999px;padding:.15rem .5rem;margin-right:.4rem}
    .btn-txt{display:inline-block;margin-top:.4rem;padding:.25rem .45rem;border:1px solid #cad1e1;border-radius:999px;text-decoration:none;color:#334155;background:#fff;font-size:.8rem}
  </style>
</head>
<body>
  <header>
    <img src="/logo.png" alt="Logo" />
    <div class="brand">Trust Law Textbooks</div>
    <div style="margin-left:auto"><a href="/index.html">Catalog</a></div>
  </header>

  <main>
    <h1>Search (beta)</h1>
    <p class="muted">Searches: <strong>Textbooks</strong> (public catalog) + <strong>Laws</strong> (laws-ui) + <strong>Rules</strong> (rules-ui).
      Results show quotable snippets; click the title to open the full TXT.</p>

    <form id="qform" class="bar" autocomplete="off">
      <input id="q" type="text" placeholder="e.g., beddoe consent litigation; use quotes for phrases" />
      <button id="go" type="button">Search</button>
    </form>

    <div class="opts">
      <label><input id="ormode" type="checkbox" /> OR mode</label>
      <label>Window: <input id="win" type="number" value="240" style="width:70px"> chars</label>
      <label>Snippets/doc: <input id="snips" type="number" value="6" style="width:60px"></label>
      <span id="counts" class="muted"></span>
    </div>

    <section>
      <h2>Textbooks</h2>
      <div id="textbooks" class="results"></div>
    </section>

    <section>
      <h2>Laws</h2>
      <div id="laws" class="results"></div>
    </section>

    <section>
      <h2>Rules</h2>
      <div id="rules" class="results"></div>
    </section>
  </main>

  <script src="/search.js"></script>
</body>
</html>
